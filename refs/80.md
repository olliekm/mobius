# DeepNote UI Implementation Prompt

You are building the UI for DeepNote, a minimalist macOS knowledge bank app built with Tauri + Svelte. The aesthetic should feel like Cursor (the code editor) - clean, dark, professional, not distracting. The AI features run in the background and should surface subtly, never interrupting flow.

## Design Principles

1. **Dark by default** - Deep grays (#0d0d0d, #1a1a1a, #252525), not pure black
2. **Minimal chrome** - No unnecessary borders, shadows, or decoration
3. **Typography-first** - Let text breathe. Use Inter or system font. Clear hierarchy through weight and size, not color.
4. **Subtle interactions** - Hover states are gentle opacity shifts, not color changes. Transitions are 150-200ms ease-out.
5. **Information density without clutter** - Show what matters, hide what doesn't until needed
6. **Keyboard-first** - Every action has a shortcut. Command palette for discovery.

## Color Palette

```
Background:       #0d0d0d (deepest)
Surface:          #1a1a1a (cards, panels)
Surface elevated: #252525 (hover, active states)
Border:           #2e2e2e (subtle dividers only when necessary)

Text primary:     #e5e5e5
Text secondary:   #888888
Text muted:       #555555

Accent:           #3b82f6 (blue, use sparingly - selections, active states)
Accent subtle:    #3b82f620 (backgrounds for selected items)

Success:          #22c55e (concept maturity, streaks)
Warning:          #eab308 (tensions, drift detection)
Danger:           #ef4444 (rarely used)
```

## Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Traffic lights                        [Search] [Cmd+K]      â”‚ <- Minimal titlebar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                                â”‚
â”‚  Sidebar   â”‚              Main Content                      â”‚
â”‚  (240px)   â”‚                                                â”‚
â”‚            â”‚                                                â”‚
â”‚ - Notes    â”‚   [Note editor / Dump processor / etc]         â”‚
â”‚ - Concepts â”‚                                                â”‚
â”‚ - Goals    â”‚                                                â”‚
â”‚ - Glossary â”‚                                                â”‚
â”‚            â”‚                                                â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚            â”‚  Suggestion queue (collapsible, bottom)        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  "3 suggestions waiting"                       â”‚
â”‚ Session    â”‚                                                â”‚
â”‚ [25:00]    â”‚                                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                                                â”‚
â”‚ Streak: 5  â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Specifications

### Sidebar
- Fixed width 240px, collapsible to icons only (48px)
- Sections: Notes, Concepts, Goals, Glossary
- Each section shows count badge (muted)
- Active item has subtle accent background (#3b82f620)
- Bottom: Session timer (if active) and streak counter
- No icons except in collapsed state

### Note Editor
- Full width minus sidebar
- Minimal: just a textarea with markdown support
- No toolbar - formatting via markdown shortcuts
- Title is just the first line, auto-extracted
- Save indicator: subtle dot that fades after save
- Ghost definition prompts appear inline as faint pills below undefined terms

### Inline Suggestions (Ghost Definitions, etc)
```
You're typing: "The transformer uses self-attention to..."
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ self-attention     â”‚  <- Appears below cursor
                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                    â”‚ "Mechanism where   â”‚
                    â”‚ each position      â”‚
                    â”‚ attends to all     â”‚
                    â”‚ positions"         â”‚
                    â”‚                    â”‚
                    â”‚ [Tab] insert       â”‚
                    â”‚ [Enter] expand     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Style:
- Background: #252525
- Border: 1px solid #2e2e2e
- Border-radius: 6px
- Box-shadow: 0 4px 12px rgba(0,0,0,0.3)
- Max-width: 280px
- Padding: 12px
- Font-size: 13px for definition, 11px for hints
```

### Ghost Definition Prompt
When a term is used frequently but undefined, show inline after the term:
```
"...using gradient descent to optimize..."
                    â””â”€â”€ [define?] <- Faint, clickable, 11px, #555555
```

On click, opens inline definition input.

### Dump Processor View
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Paste content to analyze                           [Process]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ "Attention mechanisms allow models to focus on relevant     â”‚ <- opacity: 0.4 (known)
â”‚ parts of the input sequence..."                             â”‚
â”‚                                                             â”‚
â”‚ "Recent work demonstrates that attention heads develop      â”‚ <- opacity: 1.0, left border accent
â”‚ interpretable features corresponding to linguistic..."      â”‚    (high relevance)
â”‚                                                             â”‚
â”‚ "The computational complexity scales quadratically with     â”‚ <- opacity: 0.7 (medium)
â”‚ sequence length, making long contexts expensive..."         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3 high relevance  Â·  2 new concepts  Â·  1 tension     [Extract highlighted]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Relevance indicators:
- High: opacity 1.0, 2px left border in accent color
- Medium: opacity 0.7
- Low/Known: opacity 0.4
- Tension: 2px left border in warning color (#eab308)
```

### Suggestion Queue (Bottom Panel)
- Collapsed by default: just shows "3 suggestions" as a subtle bar
- Expand to see list
- Each suggestion is one line with action
- Dismiss with X or keyboard

```
Collapsed:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¸ 3 suggestions                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Expanded:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¾ Suggestions                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â—‹ Define "backpropagation" - used 8 times          [Define] â”‚
â”‚ â—‹ Tension: your notes on RL contradict on...       [Review] â”‚
â”‚ â—‹ Related: note from Jan 15 on gradient flow       [View]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Session Intention Modal
When starting a session, minimal modal:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   What do you want to focus on?                             â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ I want to deeply understand attention mechanisms    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   Recent: transformers, RLHF, backprop         [Start]      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- Centered, max-width 500px
- Input is large (18px font)
- Recent intentions shown as clickable tags
- Escape to skip (open-ended session)
```

### Pomodoro Timer (Sidebar)
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Session
  23:45
  "attention mechanisms"
  
  [Pause] [End]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ”¥ 5 day streak
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

- Timer is prominent but not flashy
- Session intention truncated with ellipsis
- Streak uses minimal emoji, or just text "5 days"
```

### Command Palette (Cmd+K)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ > search notes, commands...                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Notes                                                     â”‚
â”‚   â–¸ Attention mechanisms overview                           â”‚
â”‚   â–¸ RLHF notes from paper                                   â”‚
â”‚                                                             â”‚
â”‚   Actions                                                   â”‚
â”‚   â–¸ New note                                    âŒ˜N          â”‚
â”‚   â–¸ Start session                               âŒ˜â‡§S         â”‚
â”‚   â–¸ Process dump                                âŒ˜D          â”‚
â”‚   â–¸ View tensions                               âŒ˜T          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Typography

```css
--font-sans: 'Inter', -apple-system, system-ui, sans-serif;
--font-mono: 'JetBrains Mono', 'SF Mono', monospace;

--text-xs: 11px;
--text-sm: 13px;
--text-base: 14px;
--text-lg: 16px;
--text-xl: 20px;

--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
```

## Animation Guidelines

- Duration: 150ms for micro-interactions, 200ms for panels/modals
- Easing: ease-out for enters, ease-in for exits
- No bounces, no springs, no playfulness - this is a focus tool
- Opacity transitions over color transitions
- Transform (translate, scale) over layout shifts

## Implementation Notes

1. Use CSS custom properties for all colors (theming later)
2. Svelte transitions for enter/exit animations
3. No component library - build from scratch for control
4. Use `svelte:window` for global keyboard shortcuts
5. Tauri window should be frameless with custom titlebar
6. Store UI state (sidebar collapsed, panel open) in localStorage

## File Structure

```
src/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Sidebar.svelte
â”‚   â”‚   â”œâ”€â”€ NoteEditor.svelte
â”‚   â”‚   â”œâ”€â”€ DumpProcessor.svelte
â”‚   â”‚   â”œâ”€â”€ SuggestionQueue.svelte
â”‚   â”‚   â”œâ”€â”€ CommandPalette.svelte
â”‚   â”‚   â”œâ”€â”€ SessionModal.svelte
â”‚   â”‚   â”œâ”€â”€ InlineSuggestion.svelte
â”‚   â”‚   â””â”€â”€ GhostDefinition.svelte
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ notes.ts
â”‚   â”‚   â”œâ”€â”€ session.ts
â”‚   â”‚   â””â”€â”€ suggestions.ts
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ global.css
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ +page.svelte
â””â”€â”€ app.html
```

## First Steps

1. Set up global CSS with color variables and typography
2. Build the layout shell (sidebar + main content)
3. Implement the note editor with basic markdown
4. Add command palette (Cmd+K)
5. Wire up keyboard shortcuts
6. Build suggestion queue (can be mocked initially)
7. Add session flow (intention modal, timer)
8. Build dump processor view

Focus on the core loop first: capture notes, see them in sidebar, basic editing. AI features can be mocked with static data until the Rust backend is ready.
